<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ÙƒÙˆÙŠØ² Ø§Ù„ØµØ¯Ù‚ ÙˆØªØ­Ù…Ù„ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ©</title>

  <style>
    /* =========================
       THEME TOKENS
       - html.dark ÙƒÙ…Ø§ Ø·Ù„Ø¨ØªÙ
       ========================= */
    :root{
      font-size: 22px; /* Ø®Ø· Ø£ÙƒØ¨Ø± */
      --bg: #f6f7fb;
      --bg2: #eef2ff;
      --card: rgba(255,255,255,.92);
      --card2: rgba(255,255,255,.75);
      --text: #0f172a;
      --muted: #475569;
      --border: rgba(15,23,42,.10);
      --shadow: 0 18px 45px rgba(15,23,42,.10);

      --brand: #4f46e5;
      --brand2:#9333ea;

      --pill: rgba(79,70,229,.10);
      --pillText:#0f172a;

      --track: rgba(15,23,42,.08);
      --btn: #111827;
      --btnText: #ffffff;
      --btn2: rgba(15,23,42,.06);
      --btn2Text: #0f172a;

      --choice: rgba(255,255,255,.88);
      --choiceHover: rgba(79,70,229,.06);

      --okBg: rgba(16,185,129,.12);
      --okBorder: rgba(16,185,129,.35);

      --noBg: rgba(244,63,94,.10);
      --noBorder: rgba(244,63,94,.35);

      --radius: 22px;
    }

    html.dark{
      --bg: #070a12;
      --bg2:#0b1022;
      --card: rgba(17,24,39,.78);
      --card2: rgba(17,24,39,.55);
      --text: #e5e7eb;
      --muted: #cbd5e1;
      --border: rgba(148,163,184,.18);
      --shadow: 0 18px 55px rgba(0,0,0,.45);

      --brand: #7c3aed;
      --brand2:#22c55e;

      --pill: rgba(124,58,237,.18);
      --pillText:#e5e7eb;

      --track: rgba(148,163,184,.18);
      --btn: #e5e7eb;
      --btnText: #0b1022;
      --btn2: rgba(148,163,184,.12);
      --btn2Text:#e5e7eb;

      --choice: rgba(2,6,23,.25);
      --choiceHover: rgba(124,58,237,.16);

      --okBg: rgba(16,185,129,.14);
      --okBorder: rgba(16,185,129,.40);

      --noBg: rgba(244,63,94,.12);
      --noBorder: rgba(244,63,94,.40);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Tahoma, Arial;
      color: var(--text);
      line-height: 1.75;
      background:
        radial-gradient(1200px 700px at 20% 10%, var(--bg2), transparent 60%),
        radial-gradient(900px 700px at 80% 20%, rgba(147,51,234,.12), transparent 55%),
        radial-gradient(900px 700px at 50% 90%, rgba(79,70,229,.10), transparent 55%),
        linear-gradient(180deg, var(--bg), var(--bg));
      transition: background .2s ease, color .2s ease;
      overflow-x:hidden;
    }

    .wrap{ max-width: 900px; margin: 0 auto; padding: 26px 18px 34px; }

    .shell{
      position: relative;
      border-radius: calc(var(--radius) + 10px);
      background: linear-gradient(135deg, rgba(79,70,229,.12), rgba(147,51,234,.08), rgba(34,197,94,.06));
      padding: 14px;
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .shell::before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(700px 240px at 15% 10%, rgba(255,255,255,.35), transparent 60%),
        radial-gradient(700px 240px at 85% 20%, rgba(255,255,255,.18), transparent 60%),
        radial-gradient(500px 250px at 50% 90%, rgba(255,255,255,.12), transparent 60%);
      pointer-events:none;
      mix-blend-mode: overlay;
      opacity:.75;
    }

    .card{
      position:relative;
      background: linear-gradient(180deg, var(--card), var(--card2));
      border-radius: var(--radius);
      border: 1px solid var(--border);
      padding: 20px;
      backdrop-filter: blur(10px);
    }

    .top{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 12px;
      flex-wrap: wrap;
    }

    h1{ margin:0; font-size: 1.25rem; letter-spacing:.2px; }
    .sub{ margin: 6px 0 0; font-size: .78rem; color: var(--muted); }

    .themeBtn{
      border: 1px solid var(--border);
      background: var(--choice);
      color: var(--text);
      border-radius: 16px;
      padding: 10px 12px;
      cursor: pointer;
      font-size: .78rem;
      transition: background .15s ease, transform .05s ease;
      user-select:none;
      display:flex; align-items:center; gap:8px;
    }
    .themeBtn:hover{ background: var(--choiceHover); }
    .themeBtn:active{ transform: translateY(1px); }

    .meta{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center;
      margin: 14px 0 16px;
    }
    .pill{
      background: var(--pill);
      color: var(--pillText);
      padding: 7px 12px;
      border-radius: 999px;
      font-size: .7rem;
      border: 1px solid var(--border);
      display:flex; align-items:center; gap:8px;
    }

    .bar{
      height: 12px;
      background: var(--track);
      border-radius: 999px;
      overflow:hidden;
      flex:1; min-width: 200px;
      border: 1px solid var(--border);
    }
    .bar > div{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, var(--brand), var(--brand2));
      transition: width .25s ease;
    }

    .qRow{
      display:flex; align-items:flex-start; justify-content:space-between; gap:10px; flex-wrap:wrap;
      margin-top: 6px;
    }
    .q{
      font-size: 1.05rem;
      margin: 0;
      font-weight: 700;
      line-height: 1.6;
      flex: 1;
      min-width: 250px;
    }

    .qBadge{
      display:inline-flex; align-items:center; gap:8px;
      font-size: .7rem;
      padding: 8px 10px;
      border-radius: 999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.08);
      color: var(--muted);
    }
    .star{
      display:inline-block;
      width: 18px; height: 18px;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.12));
    }

    .choices{ display:grid; gap:10px; margin-top: 14px; }

    button.choice{
      text-align:right;
      padding: 14px 14px;
      border-radius: 18px;
      border: 1px solid var(--border);
      background: var(--choice);
      color: var(--text);
      cursor: pointer;
      font-size: .92rem;
      transition: background .15s ease, transform .05s ease, border-color .15s ease;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    button.choice:hover{ background: var(--choiceHover); }
    button.choice:active{ transform: translateY(1px); }
    button.choice[disabled]{ cursor:not-allowed; opacity:.85; }

    .mark{
      font-size: 1rem;
      opacity: 0;
      transform: translateY(2px);
      transition: opacity .12s ease, transform .12s ease;
    }
    .choice.correct .mark{ opacity: 1; transform: translateY(0); }
    .choice.wrong .mark{ opacity: 1; transform: translateY(0); }
    .choice.correct{ border-color: var(--okBorder); background: var(--okBg); }
    .choice.wrong{ border-color: var(--noBorder); background: var(--noBg); }

    .feedback{
      margin-top: 14px;
      padding: 12px 14px;
      border-radius: 18px;
      display:none;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.06);
      font-size: .9rem;
    }
    .feedback.ok{ border-color: var(--okBorder); background: var(--okBg); }
    .feedback.no{ border-color: var(--noBorder); background: var(--noBg); }

    .hint{
      margin-top: 10px;
      font-size: .78rem;
      color: var(--muted);
    }

    .actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top: 16px; }
    .btn{
      border:0;
      border-radius: 16px;
      padding: 12px 14px;
      cursor:pointer;
      font-size: .78rem;
      background: var(--btn);
      color: var(--btnText);
      transition: transform .05s ease, opacity .15s ease;
      display:inline-flex; align-items:center; gap:8px;
    }
    .btn:active{ transform: translateY(1px); }
    .btn.secondary{
      background: var(--btn2);
      color: var(--btn2Text);
      border: 1px solid var(--border);
    }
    .btn:disabled{ opacity:.6; cursor:not-allowed; }

    .result{ display:none; text-align:center; padding: 8px 0 2px; }
    .score{ font-size: 1.6rem; margin: 10px 0 2px; font-weight: 900; }
    .small{ color: var(--muted); font-size: .8rem; }

    /* Ù†Ø¬ÙˆÙ… Ø§Ø­ØªÙØ§Ù„ */
    .starBurst{
      position: fixed;
      left: 0; top: 0;
      width: 10px; height: 10px;
      pointer-events:none;
      z-index: 9999;
      opacity: 0;
      transform: translate(-50%,-50%) scale(0.9);
      animation: pop .75s ease-out forwards;
      filter: drop-shadow(0 10px 14px rgba(0,0,0,.18));
    }
    @keyframes pop{
      0%   { opacity: 0; transform: translate(-50%,-50%) scale(0.6); }
      10%  { opacity: 1; }
      100% { opacity: 0; transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) scale(1.15); }
    }

    /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
    @media (max-width: 420px){
      :root{ font-size: 20px; }
      .bar{ min-width: 160px; }
    }
  </style>

  <script>
    // =========================
    // THEME LOGIC (Ù…Ø«Ù„ ÙƒÙˆØ¯Ùƒ)
    // =========================
    (function initTheme(){
      const stored = localStorage.getItem("theme");
      const theme = (stored === "dark" || stored === "light") ? stored : "light";
      const root = document.documentElement;
      if(theme === "dark") root.classList.add("dark");
      else root.classList.remove("dark");
      localStorage.setItem("theme", theme);
    })();

    function toggleTheme(){
      const root = document.documentElement;
      const isDark = root.classList.contains("dark");
      const next = isDark ? "light" : "dark";
      if(next === "dark") root.classList.add("dark");
      else root.classList.remove("dark");
      localStorage.setItem("theme", next);

      const btn = document.getElementById("themeBtn");
      if(btn) btn.innerHTML = (next === "dark")
        ? 'â˜€ï¸ <span>Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙØ§ØªØ­</span>'
        : 'ğŸŒ™ <span>Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†</span>';
    }

    function updateThemeButtonLabel(){
      const root = document.documentElement;
      const btn = document.getElementById("themeBtn");
      if(!btn) return;
      btn.innerHTML = root.classList.contains("dark")
        ? 'â˜€ï¸ <span>Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙØ§ØªØ­</span>'
        : 'ğŸŒ™ <span>Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†</span>';
    }

    // =========================
    // STAR CELEBRATION
    // =========================
    function spawnStars(x, y){
      const stars = ["â­","âœ¨","ğŸŒŸ"];
      for(let i=0;i<14;i++){
        const el = document.createElement("div");
        el.className = "starBurst";
        el.textContent = stars[Math.floor(Math.random()*stars.length)];
        const dx = (Math.random()*220 - 110).toFixed(0) + "px";
        const dy = (Math.random()*180 - 90).toFixed(0) + "px";
        el.style.setProperty("--dx", dx);
        el.style.setProperty("--dy", dy);
        el.style.left = x + "px";
        el.style.top  = y + "px";
        el.style.fontSize = (16 + Math.random()*18).toFixed(0) + "px";
        document.body.appendChild(el);
        setTimeout(() => el.remove(), 800);
      }
    }
  </script>
</head>

<body>
  <div class="wrap">
    <div class="shell">
      <div class="card" id="quizCard">

        <div class="top">
          <div>
            <h1>ÙƒÙˆÙŠØ² Ø§Ù„ØµØ¯Ù‚ ÙˆØªØ­Ù…Ù„ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ©</h1>
            <p class="sub">Ø§Ø®ØªØ§Ø±ÙŠ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø£ÙØ¶Ù„ØŒ ÙˆÙ…Ø¹ ÙƒÙ„ Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø© ØªØ¸Ù‡Ø± Ø§Ù„Ù†Ø¬ÙˆÙ….</p>
          </div>

          <button class="themeBtn" id="themeBtn" type="button" onclick="toggleTheme()">
            ğŸŒ™ <span>Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†</span>
          </button>
        </div>

        <div class="meta">
          <div class="pill" id="counter">â­ Ø§Ù„Ø³Ø¤Ø§Ù„ 1 / 10</div>
          <div class="bar" aria-label="Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…"><div id="progress"></div></div>
          <div class="pill" id="liveScore">ğŸŒŸ Ø§Ù„Ø¯Ø±Ø¬Ø©: 0</div>
        </div>

        <div id="qa">
          <div class="qRow">
            <p class="q" id="question"></p>
            <div class="qBadge" id="qBadge">âœ¨ ØªØ°ÙƒÙŠØ±: Ø§Ù„ØµØ¯Ù‚ + Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø±</div>
          </div>

          <div class="choices" id="choices"></div>

          <div class="feedback" id="feedback"></div>
          <div class="hint" id="hint"></div>

          <div class="actions">
            <button class="btn secondary" id="prevBtn">â¬…ï¸ Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
            <button class="btn" id="nextBtn">Ø§Ù„ØªØ§Ù„ÙŠ â¡ï¸</button>
            <button class="btn secondary" id="restartBtn">ğŸ” Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©</button>
          </div>
        </div>

        <div class="result" id="result">
          <div class="score" id="finalScore"></div>
          <div class="small" id="finalNote"></div>
          <div class="actions" style="justify-content:center;">
            <button class="btn" id="restartBtn2">Ø§Ø¨Ø¯Ø¦ÙŠ Ù…Ù† Ø¬Ø¯ÙŠØ¯ âœ¨</button>
          </div>
        </div>

      </div>
    </div>
  </div>

<script>
  const quiz = [
    {
      q: "Ù…ÙˆÙ‚Ù 1: ÙˆØ¬Ø¯ØªÙ Ø¯ÙØªØ±Ù‹Ø§ Ù…Ù…Ø²Ù‚Ù‹Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø§ÙˆÙ„Ø©. Ø³Ø£Ù„ØªÙ Ø§Ù„Ù…Ø¹Ù„Ù…Ø©: Ù…Ù† Ù…Ø²Ù‘Ù‚ Ø§Ù„Ø¯ÙØªØ±ØŸ",
      choices: ["Ø£Ù‚ÙˆÙ„ Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø© ÙˆØ£Ø¹ØªØ°Ø±","Ø£Ù„ÙˆÙ… ØºÙŠØ±ÙŠ","Ø£Ø³ÙƒØª"],
      a: 0,
      hint: "Ø§Ù„ØµØ¯Ù‚ Ù…Ø¹ Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø± ÙŠØ³Ø§Ø¹Ø¯ ÙÙŠ Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø®Ø·Ø£ ÙˆÙŠØ²ÙŠØ¯ Ø«Ù‚Ø© Ø§Ù„Ù…Ø¹Ù„Ù…Ø©.",
      badge: "â­ Ø§Ù„ØµØ¯Ù‚ ÙŠØ±ÙØ¹ Ø§Ù„Ø«Ù‚Ø©"
    },
    {
      q: "Ù…ÙˆÙ‚Ù 2: Ø§Ù†Ù‚Ù„Ø¨ ÙƒØ£Ø³ Ù…Ø§Ø¡ ÙˆØ³Ù‚Ø· Ø§Ù„Ù…Ø§Ø¡ Ø¹Ù„Ù‰ Ø£Ø±Ø¶ Ø§Ù„ÙØµÙ„. Ù‚Ø§Ù„Øª Ø§Ù„Ù…Ø¹Ù„Ù…Ø©: Ù…Ù† Ø£Ø³Ù‚Ø· Ø§Ù„Ù…Ø§Ø¡ØŸ",
      choices: ["Ø£Ù‚ÙˆÙ„: Ø£Ù†Ø§ØŒ ÙˆØ£Ù…Ø³Ø­ Ø§Ù„Ù…ÙƒØ§Ù†","Ø£Ù‚ÙˆÙ„: Ù„ÙŠØ³Øª Ø£Ù†Ø§","Ø£Ø¶Ø­Ùƒ ÙˆØ£ØªØ±ÙƒÙ‡"],
      a: 0,
      hint: "ØªØ­Ù…Ù„ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© ÙŠØ¹Ù†ÙŠ Ø£Ø¹ØªØ±Ù ÙˆØ£ØµÙ„Ø­ Ù…Ø§ Ø£ÙØ³Ø¯Øª.",
      badge: "âœ¨ Ø£ØµÙ„Ø­ Ø§Ù„Ø®Ø·Ø£ ÙÙˆØ±Ù‹Ø§"
    },
    {
      q: "Ù…ÙˆÙ‚Ù 3: Ø§Ù†ÙƒØ³Ø± Ù‚Ù„Ù…Ùƒ ÙÙŠ Ø§Ù„ÙØµÙ„. Ø³Ø£Ù„Øª Ø§Ù„Ù…Ø¹Ù„Ù…Ø©: Ù…Ù† ÙƒØ³Ø± Ø§Ù„Ù‚Ù„Ù…ØŸ",
      choices: ["Ø£Ù‚ÙˆÙ„ Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø© ÙˆØ£Ø¹ØªØ°Ø±","Ø£ØªÙ‡Ù… Ø²Ù…ÙŠÙ„ÙŠ","Ø£Ø®Ø¨Ù‘Ø¦ Ø§Ù„Ù‚Ù„Ù…"],
      a: 0,
      hint: "Ø§ØªÙ‡Ø§Ù… Ø§Ù„Ø¢Ø®Ø±ÙŠÙ† Ø£Ùˆ Ø§Ù„Ø¥Ø®ÙØ§Ø¡ ÙŠØ¶Ø§Ø¹Ù Ø§Ù„Ù…Ø´ÙƒÙ„Ø©.",
      badge: "ğŸŒŸ Ù„Ø§ Ù„Ù„Ø§ØªÙ‡Ø§Ù…"
    },
    {
      q: "Ù…ÙˆÙ‚Ù 4: Ù†Ø³ÙŠØªÙ Ø§Ù„ÙˆØ§Ø¬Ø¨ ÙÙŠ Ø§Ù„Ø¨ÙŠØª. Ù‚Ø§Ù„Øª Ø§Ù„Ù…Ø¹Ù„Ù…Ø©: Ù…Ù† Ù†Ø³ÙŠ Ø§Ù„ÙˆØ§Ø¬Ø¨ØŸ",
      choices: ["Ø£Ù‚ÙˆÙ„: Ø£Ù†Ø§ØŒ ÙˆØ£Ø¹ØªØ°Ø± ÙˆØ£Ø¹Ø¯ Ø¨Ø¥Ø­Ø¶Ø§Ø±Ù‡ ØºØ¯Ù‹Ø§","Ø£Ù‚ÙˆÙ„: Ù…Ø§ Ø¹Ù†Ø¯ÙŠ ÙˆØ§Ø¬Ø¨ Ø£ØµÙ„Ù‹Ø§","Ø£ØµÙ…Øª ÙˆØ£ØªØ¸Ø§Ù‡Ø± Ø£Ù†ÙŠ Ù„Ù… Ø£Ø³Ù…Ø¹"],
      a: 0,
      hint: "Ø§Ù„Ø§Ø¹ØªØ±Ø§Ù Ù…Ø¹ ÙˆØ¹Ø¯ ÙˆØ§Ø¶Ø­ Ø£ÙØ¶Ù„ Ù…Ù† Ø§Ù„Ø¥Ù†ÙƒØ§Ø±.",
      badge: "â­ Ø§Ø¹ØªØ±Ø§Ù + Ø®Ø·Ø©"
    },
    {
      q: "Ù…ÙˆÙ‚Ù 5: Ù…Ø²Ù‘Ù‚ØªÙ ÙˆØ±Ù‚Ø© Ø²Ù…ÙŠÙ„ØªÙƒ Ø¨Ø§Ù„Ø®Ø·Ø£. Ø³Ø£Ù„ØªÙƒ: Ù…Ù† Ù…Ø²Ù‘Ù‚ Ø§Ù„ÙˆØ±Ù‚Ø©ØŸ",
      choices: ["Ø£Ù‚ÙˆÙ„: Ø£Ù†Ø§ØŒ Ø¢Ø³ÙØ© ÙˆØ³Ø£Ø¹ÙˆØ¶Ùƒ Ø¨ÙˆØ±Ù‚Ø© Ø¬Ø¯ÙŠØ¯Ø©","Ø£Ù‚ÙˆÙ„: Ù…Ø§ Ø£Ø¯Ø±ÙŠ","Ø£Ù‚ÙˆÙ„: Ø²Ù…ÙŠÙ„Ø© Ø£Ø®Ø±Ù‰ ÙØ¹Ù„Øª Ø°Ù„Ùƒ"],
      a: 0,
      hint: "Ø§Ù„ØµØ¯Ù‚ Ù…Ø¹ Ø§Ù„ØªØ¹ÙˆÙŠØ¶ ÙŠØ­ÙØ¸ Ø§Ù„ÙˆØ¯.",
      badge: "âœ¨ Ø¹ÙˆØ¶ÙŠ ÙˆØ§Ø¹ØªØ°Ø±ÙŠ"
    },
    {
      q: "Ù…ÙˆÙ‚Ù 6: ÙƒØ³Ø±ØªÙ Ù„Ø¹Ø¨Ø© Ù…Ù† Ø£Ù„Ø¹Ø§Ø¨ Ø±ÙƒÙ† Ø§Ù„ÙØµÙ„. Ø³Ø£Ù„ØªÙƒ Ø§Ù„Ù…Ø¹Ù„Ù…Ø©: Ù…Ø§Ø°Ø§ Ø­Ø¯Ø«ØŸ",
      choices: ["Ø£Ù‚ÙˆÙ„ Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø© ÙˆØ£Ø·Ù„Ø¨ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø¥ØµÙ„Ø§Ø­Ù‡Ø§","Ø£Ø®Ø¨Ù‘Ø¦ Ø§Ù„Ù„Ø¹Ø¨Ø© ÙÙŠ Ø§Ù„Ø¯Ø±Ø¬","Ø£Ù‚ÙˆÙ„: Ù„Ø§ Ø£Ø¹Ø±Ù"],
      a: 0,
      hint: "Ø§Ù„Ø¥ØµÙ„Ø§Ø­ Ø£ÙØ¶Ù„ Ù…Ù† Ø§Ù„Ø¥Ø®ÙØ§Ø¡.",
      badge: "ğŸŒŸ Ø§Ù„Ø¥ØµÙ„Ø§Ø­ Ø£ÙˆÙ„Ù‹Ø§"
    },
    {
      q: "Ù…ÙˆÙ‚Ù 7: Ø£Ø®Ø°ØªÙ Ù…Ù…Ø­Ø§Ø© Ø²Ù…ÙŠÙ„ØªÙƒ Ø¯ÙˆÙ† Ø§Ø³ØªØ¦Ø°Ø§Ù† Ø«Ù… Ù†Ø³ÙŠØªÙ Ø¥Ø±Ø¬Ø§Ø¹Ù‡Ø§. Ù‚Ø§Ù„Øª: Ø£ÙŠÙ† Ù…Ù…Ø­Ø§ØªÙŠØŸ",
      choices: ["Ø£Ù‚ÙˆÙ„: Ø£Ø®Ø°ØªÙ‡Ø§ ÙˆØ£Ø¹ÙŠØ¯Ù‡Ø§ ÙˆØ£Ø¹ØªØ°Ø±","Ø£Ù‚ÙˆÙ„: Ù…Ø§ Ø´ÙØªÙ‡Ø§","Ø£ØµÙ…Øª ÙˆØ£ØªØ±ÙƒÙ‡Ø§ ØªØ¨Ø­Ø«"],
      a: 0,
      hint: "Ø§Ù„Ø£Ù…Ø§Ù†Ø© ØªØ¹Ù†ÙŠ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø­Ù‚ ÙˆØ§Ù„Ø§Ø¹ØªØ°Ø§Ø±.",
      badge: "â­ Ø§Ù„Ø£Ù…Ø§Ù†Ø©"
    },
    {
      q: "Ù…ÙˆÙ‚Ù 8: Ù†Ù‚Ù„ØªÙ Ø¥Ø¬Ø§Ø¨Ø© Ù…Ù† ØµØ¯ÙŠÙ‚ØªÙƒ Ø¯ÙˆÙ† ÙÙ‡Ù…. Ø³Ø£Ù„ØªÙƒ Ø§Ù„Ù…Ø¹Ù„Ù…Ø©: Ù‡Ù„ Ø­Ù„Ù„ØªÙ Ø¨Ù†ÙØ³ÙƒØŸ",
      choices: ["Ø£Ù‚ÙˆÙ„ Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø© ÙˆØ£Ø·Ù„Ø¨ Ø´Ø±Ø­Ù‹Ø§ Ù„Ø£ØªØ¹Ù„Ù…","Ø£Ù‚ÙˆÙ„: Ù†Ø¹Ù… Ø­Ù„Ù„Øª ÙˆØ­Ø¯ÙŠ","Ø£ØºÙŠÙ‘Ø± Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹"],
      a: 0,
      hint: "Ø§Ù„Ù‡Ø¯Ù Ù‡Ùˆ Ø§Ù„ÙÙ‡Ù… Ù„Ø§ Ù…Ø¬Ø±Ø¯ Ø§Ù„ØªØ³Ù„ÙŠÙ….",
      badge: "âœ¨ ØªØ¹Ù„Ù‘Ù… Ù„Ø§ Ù†Ù‚Ù„"
    },
    {
      q: "Ù…ÙˆÙ‚Ù 9: Ø¶Ø§Ø¹ ÙƒØªØ§Ø¨Ùƒ Ø«Ù… ÙˆØ¬Ø¯ØªÙ‡ Ø²Ù…ÙŠÙ„ØªÙƒ. Ù‚Ø§Ù„Øª: Ù‡Ø°Ø§ ÙƒØªØ§Ø¨ÙƒØŒ Ù‡Ù„ ÙƒØ§Ù† Ù…Ø¹ÙƒØŸ",
      choices: ["Ø£Ù‚ÙˆÙ„: Ù†Ø¹Ù…ØŒ Ø´ÙƒØ±Ù‹Ø§ Ù„Ùƒ","Ø£Ù‚ÙˆÙ„: Ù„ÙŠØ³ ÙƒØªØ§Ø¨ÙŠ","Ø¢Ø®Ø°Ù‡ Ø¯ÙˆÙ† ÙƒÙ„Ø§Ù…"],
      a: 0,
      hint: "Ø§Ù„ØµØ¯Ù‚ ÙˆØ§Ù„Ø´ÙƒØ± Ù…Ù† Ø­Ø³Ù† Ø§Ù„Ø®Ù„Ù‚.",
      badge: "ğŸŒŸ Ø§Ù„Ø´ÙƒØ±"
    },
    {
      q: "Ù…ÙˆÙ‚Ù 10: ÙƒÙ†ØªÙ Ù‚Ø§Ø¦Ø¯Ø© Ø§Ù„ØµÙ ÙˆÙ„Ù… ØªÙ†ØªØ¨Ù‡ÙŠ Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø·Ø§Ø¨ÙˆØ±. Ù‚Ø§Ù„Øª Ø§Ù„Ù…Ø¹Ù„Ù…Ø©: Ù…Ø§Ø°Ø§ Ù†ÙØ¹Ù„ØŸ",
      choices: ["Ø£Ø¹ØªØ°Ø± ÙˆØ£Ø±ØªØ¨ Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ø¨Ù‡Ø¯ÙˆØ¡ ÙˆØ£Ø·Ù„Ø¨ Ø§Ù„ØªØ¹Ø§ÙˆÙ†","Ø£Ù‚ÙˆÙ„: Ù‡Ù… Ø§Ù„Ø³Ø¨Ø¨ ÙˆÙ„ÙŠØ³ Ø£Ù†Ø§","Ø£ØªØ±Ùƒ Ø§Ù„Ù…ÙƒØ§Ù†"],
      a: 0,
      hint: "Ø§Ù„Ù‚Ø§Ø¦Ø¯ ÙŠØ¹ØªØ±Ù ÙˆÙŠØµÙ„Ø­ Ø¨Ù‡Ø¯ÙˆØ¡.",
      badge: "â­ Ù‚Ø§Ø¦Ø¯Ø© Ù…Ø³Ø¤ÙˆÙ„Ø©"
    }
  ];

  let idx = 0;
  let selected = Array(quiz.length).fill(null);

  const $ = (id) => document.getElementById(id);

  function computeScore(){
    return selected.reduce((s, ans, i) => s + (ans === quiz[i].a ? 1 : 0), 0);
  }

  function render(){
    updateThemeButtonLabel();

    if(idx >= quiz.length){
      $("qa").style.display = "none";
      $("result").style.display = "block";
      const score = computeScore();
      $("finalScore").textContent = `ğŸŒŸ Ø¯Ø±Ø¬ØªÙƒ: ${score} / ${quiz.length}`;
      $("finalNote").textContent = score === quiz.length
        ? "Ù…Ù…ØªØ§Ø² Ø¬Ø¯Ù‹Ø§: Ø§Ø®ØªÙŠØ§Ø±Ø§ØªÙƒ ØªØ¹ÙƒØ³ Ø§Ù„ØµØ¯Ù‚ ÙˆØªØ­Ù…Ù„ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ©."
        : "Ø¬ÙŠØ¯: Ø£Ø¹ÙŠØ¯ÙŠ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© ÙˆØ±ÙƒØ²ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø± ÙˆØ§Ù„Ø¥ØµÙ„Ø§Ø­ ÙˆØ§Ù„ØµØ¯Ù‚.";
      return;
    }

    $("qa").style.display = "block";
    $("result").style.display = "none";

    const total = quiz.length;
    $("counter").textContent = `â­ Ø§Ù„Ø³Ø¤Ø§Ù„ ${idx+1} / ${total}`;
    $("progress").style.width = `${Math.round(((idx+1)/total)*100)}%`;
    $("liveScore").textContent = `ğŸŒŸ Ø§Ù„Ø¯Ø±Ø¬Ø©: ${computeScore()}`;

    const item = quiz[idx];
    $("question").textContent = item.q;
    $("qBadge").textContent = item.badge || "âœ¨";

    $("choices").innerHTML = "";
    item.choices.forEach((c, i) => {
      const btn = document.createElement("button");
      btn.className = "choice";
      btn.innerHTML = `<span>${c}</span><span class="mark"> </span>`;
      btn.onclick = (e) => choose(i, e);
      $("choices").appendChild(btn);
    });

    $("hint").textContent = "ØªÙ„Ù…ÙŠØ­: " + (item.hint || "");
    $("feedback").style.display = "none";
    $("feedback").className = "feedback";

    $("prevBtn").disabled = idx === 0;
    $("nextBtn").disabled = selected[idx] === null;
    $("nextBtn").textContent = (idx === total - 1) ? "Ø¥Ù†Ù‡Ø§Ø¡ âœ…" : "Ø§Ù„ØªØ§Ù„ÙŠ â¡ï¸";
  }

  function choose(choiceIndex, event){
    selected[idx] = choiceIndex;

    const ok = (choiceIndex === quiz[idx].a);
    const fb = $("feedback");
    fb.style.display = "block";
    fb.className = "feedback " + (ok ? "ok" : "no");
    fb.textContent = ok ? "â­ Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! Ù…Ù…ØªØ§Ø²." : "Ù„ÙŠØ³Øª Ø§Ù„Ø£ÙØ¶Ù„. Ø¬Ø±Ù‘Ø¨ÙŠ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ ÙÙŠ Ø§Ù„Ù…Ø±Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©.";

    // ØªÙ…ÙŠÙŠØ² Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø¨ØµØ±ÙŠÙ‹Ø§
    const buttons = Array.from($("choices").querySelectorAll("button.choice"));
    buttons.forEach((b, i) => {
      b.disabled = true;
      const mark = b.querySelector(".mark");
      b.classList.remove("correct","wrong");
      if(i === quiz[idx].a){
        b.classList.add("correct");
        if(mark) mark.textContent = "ğŸŒŸ";
      } else if(i === choiceIndex && !ok){
        b.classList.add("wrong");
        if(mark) mark.textContent = "âœ–";
      } else {
        if(mark) mark.textContent = "";
      }
    });

    // Ù†Ø¬ÙˆÙ… Ø§Ø­ØªÙØ§Ù„ Ø¹Ù†Ø¯ Ø§Ù„ØµØ­ÙŠØ­
    if(ok && event && event.clientX && event.clientY){
      spawnStars(event.clientX, event.clientY);
    } else if(ok){
      // fallback (ÙˆØ³Ø· Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©)
      const rect = $("quizCard").getBoundingClientRect();
      spawnStars(rect.left + rect.width/2, rect.top + 140);
    }

    $("nextBtn").disabled = false;
    $("liveScore").textContent = `ğŸŒŸ Ø§Ù„Ø¯Ø±Ø¬Ø©: ${computeScore()}`;
  }

  function next(){
    if(selected[idx] === null) return;
    idx++;
    render();
  }

  function prev(){
    if(idx === 0) return;
    idx--;
    // Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù‚Ø¯ÙŠÙ… Ù„Ùˆ Ù…ÙˆØ¬ÙˆØ¯
    render();
    const old = selected[idx];
    if(old !== null){
      // Ù†Ø·Ø¨Ù‚ Ù†ÙØ³ Ø§Ù„ØªÙ…ÙŠÙŠØ² Ø¨Ø¯ÙˆÙ† Ø¥Ø·Ù„Ø§Ù‚ Ù†Ø¬ÙˆÙ…
      const fakeEvent = null;
      choose(old, fakeEvent);
    }
  }

  function restart(){
    idx = 0;
    selected = Array(quiz.length).fill(null);
    render();
  }

  $("nextBtn").addEventListener("click", next);
  $("prevBtn").addEventListener("click", prev);
  $("restartBtn").addEventListener("click", restart);
  $("restartBtn2").addEventListener("click", restart);

  render();
</script>
</body>
</html>
