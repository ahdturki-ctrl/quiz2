<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title> Ø§Ù„ØµÙ‘ÙØ¯Ù’Ù‚Ù ÙˆÙØªÙØ­ÙÙ…Ù‘ÙÙ„Ù Ø§Ù„Ù…ÙØ³Ù’Ø¤ÙÙˆÙ„ÙÙŠÙ‘ÙØ©Ù</title>

  <style>
    :root{
      font-size: 22px;
      --bg: #f6f7fb;
      --bg2: #eef2ff;
      --card: rgba(255,255,255,.92);
      --text: #0f172a;
      --muted: #475569;
      --border: rgba(15,23,42,.10);
      --shadow: 0 18px 45px rgba(15,23,42,.10);

      --btn: #111827;
      --btnText: #ffffff;
      --btn2: rgba(15,23,42,.06);
      --btn2Text: #0f172a;

      --choice: rgba(255,255,255,.88);
      --choiceHover: rgba(79,70,229,.06);

      --okBg: rgba(16,185,129,.12);
      --okBorder: rgba(16,185,129,.35);

      --noBg: rgba(244,63,94,.10);
      --noBorder: rgba(244,63,94,.35);

      --radius: 22px;
    }

    html.dark{
      --bg: #070a12;
      --bg2:#0b1022;
      --card: rgba(17,24,39,.78);
      --text: #e5e7eb;
      --muted: #cbd5e1;
      --border: rgba(148,163,184,.18);
      --shadow: 0 18px 55px rgba(0,0,0,.45);

      --btn: #e5e7eb;
      --btnText: #0b1022;
      --btn2: rgba(148,163,184,.12);
      --btn2Text:#e5e7eb;

      --choice: rgba(2,6,23,.25);
      --choiceHover: rgba(124,58,237,.16);

      --okBg: rgba(16,185,129,.14);
      --okBorder: rgba(16,185,129,.40);

      --noBg: rgba(244,63,94,.12);
      --noBorder: rgba(244,63,94,.40);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Tahoma, Arial;
      color: var(--text);
      line-height: 1.75;
      background:
        radial-gradient(1200px 700px at 20% 10%, var(--bg2), transparent 60%),
        radial-gradient(900px 700px at 80% 20%, rgba(147,51,234,.12), transparent 55%),
        radial-gradient(900px 700px at 50% 90%, rgba(79,70,229,.10), transparent 55%),
        linear-gradient(180deg, var(--bg), var(--bg));
      transition: background .2s ease, color .2s ease;
      overflow-x:hidden;
    }

    .wrap{ max-width: 900px; margin: 0 auto; padding: 26px 18px 34px; }

    .shell{
      position: relative;
      border-radius: calc(var(--radius) + 10px);
      background: linear-gradient(135deg, rgba(79,70,229,.12), rgba(147,51,234,.08), rgba(34,197,94,.06));
      padding: 14px;
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .card{
      background: var(--card);
      border-radius: var(--radius);
      border: 1px solid var(--border);
      padding: 20px;
      backdrop-filter: blur(10px);
    }

    /* Intro / Result */
    .center{
      text-align:center;
      padding: 14px 10px 10px;
    }
    .title{
      margin: 0;
      font-size: 1.45rem;
      font-weight: 900;
      letter-spacing: .2px;
    }
    .sub{
      margin: 10px 0 0;
      color: var(--muted);
      font-size: .82rem;
    }
    .row{
      display:flex;
      justify-content:center;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 18px;
    }
    .btn{
      border:0;
      border-radius: 16px;
      padding: 12px 16px;
      cursor:pointer;
      font-size: .82rem;
      background: var(--btn);
      color: var(--btnText);
      transition: transform .05s ease, opacity .15s ease;
      display:inline-flex; align-items:center; gap:8px;
    }
    .btn:active{ transform: translateY(1px); }
    .btn.secondary{
      background: var(--btn2);
      color: var(--btn2Text);
      border: 1px solid var(--border);
    }

    /* Question */
    .q{
      font-size: 1.15rem;
      margin: 0;
      font-weight: 800;
      line-height: 1.65;
    }

    /* Ø¥Ø·Ø§Ø± Ø§Ù„ØµÙˆØ±Ø© (Ù…Ø±Ø¨Ù‘Ø¹) */
    .qMedia{
      margin-top: 14px;
      border-radius: 18px;
      overflow: hidden;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.06);
      width: 100%;
      aspect-ratio: 1 / 1;
      margin-inline: auto;
    }
    .qMedia img{
      display:block;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
    }

    .imgFallback{
      padding: 14px;
      color: var(--muted);
      font-size: .85rem;
      line-height: 1.6;
    }
    .imgFallback b{ color: var(--text); }

    .choices{ display:grid; gap:10px; margin-top: 14px; }

    button.choice{
      text-align:right;
      padding: 14px 14px;
      border-radius: 18px;
      border: 1px solid var(--border);
      background: var(--choice);
      color: var(--text);
      cursor: pointer;
      font-size: .95rem;
      transition: background .15s ease, transform .05s ease, border-color .15s ease;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    button.choice:hover{ background: var(--choiceHover); }
    button.choice:active{ transform: translateY(1px); }
    button.choice[disabled]{ cursor:not-allowed; opacity:.92; }

    .mark{ font-size: 1rem; opacity: 0; transform: translateY(2px); transition: opacity .12s ease, transform .12s ease; }
    .choice.correct .mark, .choice.wrong .mark{ opacity: 1; transform: translateY(0); }
    .choice.correct{ border-color: var(--okBorder); background: var(--okBg); }
    .choice.wrong{ border-color: var(--noBorder); background: var(--noBg); }

    /* Stars celebration */
    .starBurst{
      position: fixed;
      left: 0; top: 0;
      width: 10px; height: 10px;
      pointer-events:none;
      z-index: 9999;
      opacity: 0;
      transform: translate(-50%,-50%) scale(0.9);
      animation: pop .75s ease-out forwards;
      filter: drop-shadow(0 10px 14px rgba(0,0,0,.18));
    }
    @keyframes pop{
      0%   { opacity: 0; transform: translate(-50%,-50%) scale(0.6); }
      10%  { opacity: 1; }
      100% { opacity: 0; transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) scale(1.15); }
    }

    @media (max-width: 420px){
      :root{ font-size: 20px; }
    }

    /* âœ… ÙØ±Ø¶ Ù†ØµÙ Ø§Ù„Ø­Ø¬Ù… (Ø­ØªÙ‰ Ù„Ùˆ ÙÙŠÙ‡ ØªØ¹Ø§Ø±Ø¶ CSS Ù‚Ø¯ÙŠÙ…) */
    .qMedia{
      width: min(50%, 320px) !important;
      aspect-ratio: 1 / 1 !important;
      margin-inline: auto !important;
    }
    @media (max-width: 520px){
      .qMedia{
        width: min(70%, 240px) !important;
      }
    }
  </style>

  <script>
    (function initTheme(){
      const stored = localStorage.getItem("theme");
      const theme = (stored === "dark" || stored === "light") ? stored : "light";
      const root = document.documentElement;
      if(theme === "dark") root.classList.add("dark");
      else root.classList.remove("dark");
      localStorage.setItem("theme", theme);
    })();

    function toggleTheme(){
      const root = document.documentElement;
      const isDark = root.classList.contains("dark");
      const next = isDark ? "light" : "dark";
      if(next === "dark") root.classList.add("dark");
      else root.classList.remove("dark");
      localStorage.setItem("theme", next);
      updateThemeButtonLabel();
    }

    function updateThemeButtonLabel(){
      const root = document.documentElement;
      const btns = document.querySelectorAll("[data-theme-btn]");
      btns.forEach(btn => {
        btn.innerHTML = root.classList.contains("dark")
          ? 'â˜€ï¸ <span>Ø§Ù„ÙˆÙØ¶Ù’Ø¹Ù Ø§Ù„ÙØ§ØªÙØ­Ù</span>'
          : 'ğŸŒ™ <span>Ø§Ù„ÙˆÙØ¶Ù’Ø¹Ù Ø§Ù„Ø¯Ù‘ÙØ§ÙƒÙÙ†Ù</span>';
      });
    }

    function spawnStars(x, y){
      const stars = ["â­","âœ¨","ğŸŒŸ"];
      for(let i=0;i<14;i++){
        const el = document.createElement("div");
        el.className = "starBurst";
        el.textContent = stars[Math.floor(Math.random()*stars.length)];
        const dx = (Math.random()*220 - 110).toFixed(0) + "px";
        const dy = (Math.random()*180 - 90).toFixed(0) + "px";
        el.style.setProperty("--dx", dx);
        el.style.setProperty("--dy", dy);
        el.style.left = x + "px";
        el.style.top  = y + "px";
        el.style.fontSize = (16 + Math.random()*18).toFixed(0) + "px";
        document.body.appendChild(el);
        setTimeout(() => el.remove(), 800);
      }
    }

    function shuffle(array){
      const a = array.slice();
      for(let i=a.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    function absUrl(rel){
      // Ù†Ø¶ÙŠÙ v=3 Ù„ÙƒØ³Ø± Ø§Ù„ÙƒØ§Ø´ Ø¹Ù†Ø¯ Ø§Ù„ØµÙˆØ±
      const u = new URL(rel, window.location.href);
      u.searchParams.set("v","3");
      return u.toString();
    }
  </script>
</head>

<body>
  <div class="wrap">
    <div class="shell">
      <div class="card" id="card"></div>
    </div>
  </div>

<script>
  /* Ù…Ù„Ø§Ø­Ø¸Ø©: Ø£Ø³Ù…Ø§Ø¡ ØµÙˆØ±Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹: q1.png.png ... q10.png.png */
  const quiz = [
    {
      q: "Ù…ÙÙˆÙ’Ù‚ÙÙÙŒ 1: ÙˆÙØ¬ÙØ¯Ù’ØªÙ Ø¯ÙÙÙ’ØªÙØ±Ù‹Ø§ Ù…ÙÙ…ÙØ²Ù‘ÙÙ‚Ù‹Ø§ Ø¹ÙÙ„ÙÙ‰ Ø§Ù„Ø·Ù‘ÙØ§ÙˆÙÙ„ÙØ©Ù. Ø³ÙØ£ÙÙ„ÙØªÙ Ø§Ù„Ù…ÙØ¹ÙÙ„Ù‘ÙÙ…ÙØ©Ù: Ù…ÙÙ†Ù’ Ù…ÙØ²Ù‘ÙÙ‚Ù Ø§Ù„Ø¯Ù‘ÙÙÙ’ØªÙØ±ÙØŸ",
      img: "q1.png.png",
      choices: ["Ø£ÙÙ‚ÙÙˆÙ„Ù Ø§Ù„Ø­ÙÙ‚ÙÙŠÙ‚ÙØ©Ù ÙˆÙØ£ÙØ¹Ù’ØªÙØ°ÙØ±Ù", "Ø£ÙÙ„ÙÙˆÙ…Ù ØºÙÙŠÙ’Ø±ÙÙŠ", "Ø£ÙØ³Ù’ÙƒÙØªÙ"],
      correctText: "Ø£ÙÙ‚ÙÙˆÙ„Ù Ø§Ù„Ø­ÙÙ‚ÙÙŠÙ‚ÙØ©Ù ÙˆÙØ£ÙØ¹Ù’ØªÙØ°ÙØ±Ù"
    },
    {
      q: "Ù…ÙÙˆÙ’Ù‚ÙÙÙŒ 2: Ø§Ù†Ù’Ù‚ÙÙ„ÙØ¨Ù ÙƒÙØ£Ù’Ø³Ù Ù…ÙØ§Ø¡Ù ÙˆÙØ³ÙÙ‚ÙØ·Ù Ø§Ù„Ù…ÙØ§Ø¡Ù Ø¹ÙÙ„ÙÙ‰ Ø£ÙØ±Ù’Ø¶Ù Ø§Ù„ÙÙØµÙ’Ù„Ù. Ù‚Ø§Ù„ÙØªÙ Ø§Ù„Ù…ÙØ¹ÙÙ„Ù‘ÙÙ…ÙØ©Ù: Ù…ÙÙ†Ù’ Ø£ÙØ³Ù’Ù‚ÙØ·Ù Ø§Ù„Ù…ÙØ§Ø¡ÙØŸ",
      img: "q2.png.png",
      choices: ["Ø£ÙÙ‚ÙÙˆÙ„Ù: Ø£ÙÙ†ÙØ§ØŒ ÙˆÙØ£ÙÙ…Ù’Ø³ÙØ­Ù Ø§Ù„Ù…ÙÙƒÙØ§Ù†Ù", "Ø£ÙÙ‚ÙÙˆÙ„Ù: Ù„ÙÙŠÙ’Ø³ÙØªÙ’ Ø£ÙÙ†ÙØ§", "Ø£ÙØ¶Ù’Ø­ÙÙƒÙ ÙˆÙØ£ÙØªÙ’Ø±ÙÙƒÙÙ‡Ù"],
      correctText: "Ø£ÙÙ‚ÙÙˆÙ„Ù: Ø£ÙÙ†ÙØ§ØŒ ÙˆÙØ£ÙÙ…Ù’Ø³ÙØ­Ù Ø§Ù„Ù…ÙÙƒÙØ§Ù†Ù"
    },
    {
      q: "Ù…ÙÙˆÙ’Ù‚ÙÙÙŒ 3: Ø§Ù†Ù’ÙƒÙØ³ÙØ±Ù Ù‚ÙÙ„ÙÙ…ÙÙƒÙ ÙÙÙŠ Ø§Ù„ÙÙØµÙ’Ù„Ù. Ø³ÙØ£ÙÙ„ÙØªÙ Ø§Ù„Ù…ÙØ¹ÙÙ„Ù‘ÙÙ…ÙØ©Ù: Ù…ÙÙ†Ù’ ÙƒÙØ³ÙØ±Ù Ø§Ù„Ù‚ÙÙ„ÙÙ…ÙØŸ",
      img: "q3.png.png",
      choices: ["Ø£ÙÙ‚ÙÙˆÙ„Ù Ø§Ù„Ø­ÙÙ‚ÙÙŠÙ‚ÙØ©Ù ÙˆÙØ£ÙØ¹Ù’ØªÙØ°ÙØ±Ù", "Ø£ÙØªÙ‘ÙÙ‡ÙÙ…Ù Ø²ÙÙ…ÙÙŠÙ„ÙÙŠ", "Ø£ÙØ®ÙØ¨Ù‘ÙØ¦Ù Ø§Ù„Ù‚ÙÙ„ÙÙ…Ù"],
      correctText: "Ø£ÙÙ‚ÙÙˆÙ„Ù Ø§Ù„Ø­ÙÙ‚ÙÙŠÙ‚ÙØ©Ù ÙˆÙØ£ÙØ¹Ù’ØªÙØ°ÙØ±Ù"
    },
    {
      q: "Ù…ÙÙˆÙ’Ù‚ÙÙÙŒ 4: Ù†ÙØ³ÙÙŠØªÙ Ø§Ù„ÙˆÙØ§Ø¬ÙØ¨Ù ÙÙÙŠ Ø§Ù„Ø¨ÙÙŠÙ’ØªÙ. Ù‚Ø§Ù„ÙØªÙ Ø§Ù„Ù…ÙØ¹ÙÙ„Ù‘ÙÙ…ÙØ©Ù: Ù…ÙÙ†Ù’ Ù†ÙØ³ÙÙŠÙ Ø§Ù„ÙˆÙØ§Ø¬ÙØ¨ÙØŸ",
      img: "q4.png.png",
      choices: ["Ø£ÙÙ‚ÙÙˆÙ„Ù: Ø£ÙÙ†ÙØ§ØŒ ÙˆÙØ£ÙØ¹Ù’ØªÙØ°ÙØ±Ù ÙˆÙØ£ÙØ¹ÙØ¯Ù Ø¨ÙØ¥ÙØ­Ù’Ø¶Ø§Ø±ÙÙ‡Ù ØºÙØ¯Ù‹Ø§", "Ø£ÙÙ‚ÙÙˆÙ„Ù: Ù…ÙØ§ Ø¹ÙÙ†Ù’Ø¯ÙÙŠ ÙˆÙØ§Ø¬ÙØ¨ÙŒ Ø£ÙØµÙ’Ù„Ù‹Ø§", "Ø£ÙØµÙ’Ù…ÙØªÙ ÙˆÙØ£ÙØªÙØ¸Ø§Ù‡ÙØ±Ù Ø£ÙÙ†Ù‘ÙÙŠ Ù„ÙÙ…Ù’ Ø£ÙØ³Ù’Ù…ÙØ¹Ù’"],
      correctText: "Ø£ÙÙ‚ÙÙˆÙ„Ù: Ø£ÙÙ†ÙØ§ØŒ ÙˆÙØ£ÙØ¹Ù’ØªÙØ°ÙØ±Ù ÙˆÙØ£ÙØ¹ÙØ¯Ù Ø¨ÙØ¥ÙØ­Ù’Ø¶Ø§Ø±ÙÙ‡Ù ØºÙØ¯Ù‹Ø§"
    },

    /* Ø³ÙØ¤Ø§Ù„ 5 (ÙƒØ§Ù† 7 Ù‚Ø¯ÙŠÙ…Ù‹Ø§) */
    {
      q: "Ù…ÙÙˆÙ’Ù‚ÙÙÙŒ 5: Ø£ÙØ®ÙØ°Ù’ØªÙ Ù…ÙÙ…Ù’Ø­Ø§Ø©Ù Ø²ÙÙ…ÙÙŠÙ„ÙØªÙÙƒÙ Ø¯ÙÙˆÙ†Ù Ø§Ø³Ù’ØªÙØ¦Ù’Ø°Ø§Ù†Ù Ø«ÙÙ…Ù‘Ù Ù†ÙØ³ÙÙŠØªÙ Ø¥ÙØ±Ù’Ø¬Ø§Ø¹ÙÙ‡Ø§. Ù‚Ø§Ù„ÙØªÙ’: Ø£ÙÙŠÙ’Ù†Ù Ù…ÙÙ…Ù’Ø­Ø§ØªÙÙŠØŸ",
      img: "q5.png.png",
      choices: ["Ø£ÙÙ‚ÙÙˆÙ„Ù: Ø£ÙØ®ÙØ°Ù’ØªÙÙ‡Ø§ ÙˆÙØ£ÙØ¹ÙÙŠØ¯ÙÙ‡Ø§ ÙˆÙØ£ÙØ¹Ù’ØªÙØ°ÙØ±Ù", "Ø£ÙÙ‚ÙÙˆÙ„Ù: Ù…ÙØ§ Ø´ÙÙÙ’ØªÙÙ‡Ø§", "Ø£ÙØµÙ’Ù…ÙØªÙ ÙˆÙØ£ÙØªÙ’Ø±ÙÙƒÙÙ‡Ø§ ØªÙØ¨Ù’Ø­ÙØ«Ù"],
      correctText: "Ø£ÙÙ‚ÙÙˆÙ„Ù: Ø£ÙØ®ÙØ°Ù’ØªÙÙ‡Ø§ ÙˆÙØ£ÙØ¹ÙÙŠØ¯ÙÙ‡Ø§ ÙˆÙØ£ÙØ¹Ù’ØªÙØ°ÙØ±Ù"
    },

    /* Ø³ÙØ¤Ø§Ù„ 6 (ÙƒØ§Ù† 10 Ù‚Ø¯ÙŠÙ…Ù‹Ø§) */
    {
      q: "Ù…ÙÙˆÙ’Ù‚ÙÙÙŒ 6: ÙƒÙÙ†Ù’ØªÙ Ù‚Ø§Ø¦ÙØ¯ÙØ©Ù Ø§Ù„ØµÙ‘ÙÙÙ‘Ù ÙˆÙÙ„ÙÙ…Ù’ ØªÙÙ†Ù’ØªÙØ¨ÙÙ‡ÙÙŠ Ù„ÙØªÙØ±Ù’ØªÙÙŠØ¨Ù Ø§Ù„Ø·Ù‘ÙØ§Ø¨ÙÙˆØ±Ù. Ù‚Ø§Ù„ÙØªÙ Ø§Ù„Ù…ÙØ¹ÙÙ„Ù‘ÙÙ…ÙØ©Ù: Ù…Ø§Ø°ÙØ§ Ù†ÙÙÙ’Ø¹ÙÙ„ÙØŸ",
      img: "q6.png.png",
      choices: ["Ø£ÙØ¹Ù’ØªÙØ°ÙØ±Ù ÙˆÙØ£ÙØ±ÙØªÙ‘ÙØ¨Ù Ø§Ù„Ø·Ù‘ÙØ§Ø¨ÙÙˆØ±Ù Ø¨ÙÙ‡ÙØ¯ÙÙˆØ¡Ù ÙˆÙØ£ÙØ·Ù’Ù„ÙØ¨Ù Ø§Ù„ØªÙ‘ÙØ¹Ø§ÙˆÙÙ†Ù", "Ø£ÙÙ‚ÙÙˆÙ„Ù: Ù‡ÙÙ…Ù’ Ø§Ù„Ø³Ù‘ÙØ¨ÙØ¨Ù ÙˆÙÙ„ÙÙŠÙ’Ø³ÙØªÙ’ Ø£ÙÙ†ÙØ§", "Ø£ÙØªÙ’Ø±ÙÙƒÙ Ø§Ù„Ù…ÙÙƒØ§Ù†Ù"],
      correctText: "Ø£ÙØ¹Ù’ØªÙØ°ÙØ±Ù ÙˆÙØ£ÙØ±ÙØªÙ‘ÙØ¨Ù Ø§Ù„Ø·Ù‘ÙØ§Ø¨ÙÙˆØ±Ù Ø¨ÙÙ‡ÙØ¯ÙÙˆØ¡Ù ÙˆÙØ£ÙØ·Ù’Ù„ÙØ¨Ù Ø§Ù„ØªÙ‘ÙØ¹Ø§ÙˆÙÙ†Ù"
    },

    /* Ø³ÙØ¤Ø§Ù„ 7 (Ø¬ÙØ¯ÙÙŠØ¯) */
    {
      q: "Ù…ÙÙˆÙ’Ù‚ÙÙÙŒ 7: ØµÙØ¯ÙÙŠÙ‚ÙØªÙÙƒÙ Ø­ÙØ²ÙÙ†ÙØªÙ’ Ù…ÙÙ†Ù’ ÙƒÙÙ„Ø§Ù…ÙÙƒÙØŒ Ù…Ø§Ø°ÙØ§ ØªÙÙÙ’Ø¹ÙÙ„ÙÙŠÙ†ÙØŸ",
      img: "q7.png.png",
      choices: ["Ø£ÙØ¹Ù’ØªÙØ°ÙØ±Ù ÙˆÙØ£ÙÙ‚ÙÙˆÙ„Ù ÙƒÙÙ„Ø§Ù…Ù‹Ø§ Ù„ÙØ·ÙÙŠÙÙ‹Ø§", "Ø£ÙÙ‚ÙÙˆÙ„Ù: Ø¹Ø§Ø¯ÙÙŠØŒ Ù„ÙØ§ ØªÙØ¨Ù’ÙƒÙÙŠÙ†Ù", "Ø£ÙØ¶Ù’Ø­ÙÙƒÙ ÙˆÙØ£ÙÙƒÙØ±Ù‘ÙØ±Ù Ø§Ù„ÙƒÙÙ„Ø§Ù…Ù"],
      correctText: "Ø£ÙØ¹Ù’ØªÙØ°ÙØ±Ù ÙˆÙØ£ÙÙ‚ÙÙˆÙ„Ù ÙƒÙÙ„Ø§Ù…Ù‹Ø§ Ù„ÙØ·ÙÙŠÙÙ‹Ø§"
    },

    /* Ø³ÙØ¤Ø§Ù„ 8 (Ø¬ÙØ¯ÙÙŠØ¯) */
    {
      q: "Ù…ÙÙˆÙ’Ù‚ÙÙÙŒ 8: Ø·Ø§Ù„ÙØ¨ÙŒ ÙŠÙØ±Ù’ÙÙØ¹Ù ÙŠÙØ¯ÙÙ‡Ù ÙˆÙØ§Ù„Ø¥ÙØ¬Ø§Ø¨ÙØ©Ù Ø®Ø§Ø·ÙØ¦ÙØ©ÙŒ. Ù‚Ø§Ù„ÙØªÙ Ø§Ù„Ù…ÙØ¹ÙÙ„Ù‘ÙÙ…ÙØ©Ù: Ø¥ÙØ¬Ø§Ø¨ÙØªÙÙƒÙ ØºÙÙŠÙ’Ø±Ù ØµÙØ­ÙÙŠØ­ÙØ©ÙØŒ Ù…Ø§Ø°ÙØ§ ØªÙÙ‚ÙÙˆÙ„ÙØŸ",
      img: "q8.png.png",
      choices: ["Ø£ÙÙ‚ÙÙˆÙ„Ù: Ø´ÙÙƒÙ’Ø±Ù‹Ø§ØŒ Ø£ÙØ­Ø§ÙˆÙÙ„Ù Ù…ÙØ±Ù‘ÙØ©Ù‹ Ø«Ø§Ù†ÙÙŠÙØ©Ù‹", "Ø£ÙÙ‚ÙÙˆÙ„Ù: Ù„ÙØ§ØŒ Ø£ÙÙ†ÙØ§ ØµÙØ­ÙÙŠØ­ÙŒ", "Ø£ÙØ³Ù’ÙƒÙØªÙ ÙˆÙØ£ÙØºÙ’Ø¶ÙØ¨Ù"],
      correctText: "Ø£ÙÙ‚ÙÙˆÙ„Ù: Ø´ÙÙƒÙ’Ø±Ù‹Ø§ØŒ Ø£ÙØ­Ø§ÙˆÙÙ„Ù Ù…ÙØ±Ù‘ÙØ©Ù‹ Ø«Ø§Ù†ÙÙŠÙØ©Ù‹"
    },

    /* Ø³ÙØ¤Ø§Ù„ 9 (Ø¬ÙØ¯ÙÙŠØ¯) */
    {
      q: "Ù…ÙÙˆÙ’Ù‚ÙÙÙŒ 9: ÙˆÙØ¬ÙØ¯Ù’ØªÙ Ù‚ÙÙ„ÙÙ…Ù‹Ø§ Ù„ÙÙŠÙ’Ø³Ù Ù„ÙÙƒÙØŒ Ù…Ø§Ø°ÙØ§ ØªÙÙÙ’Ø¹ÙÙ„ÙÙŠÙ†ÙØŸ",
      img: "q9.png.png",
      choices: ["Ø£ÙØ³ÙÙ„Ù‘ÙÙ…ÙÙ‡Ù Ù„ÙÙ„Ù’Ù…ÙØ¹ÙÙ„Ù‘ÙÙ…ÙØ©Ù/Ù„ÙØµØ§Ø­ÙØ¨ÙÙ‡Ù", "Ø¢Ø®ÙØ°ÙÙ‡Ù ÙˆÙØ£ÙØ®Ù’ÙÙÙŠÙ‡Ù", "Ø£ÙØªÙ’Ø±ÙÙƒÙÙ‡Ù ÙˆÙØ£ÙÙ…Ù’Ø´ÙÙŠ"],
      correctText: "Ø£ÙØ³ÙÙ„Ù‘ÙÙ…ÙÙ‡Ù Ù„ÙÙ„Ù’Ù…ÙØ¹ÙÙ„Ù‘ÙÙ…ÙØ©Ù/Ù„ÙØµØ§Ø­ÙØ¨ÙÙ‡Ù"
    },

    /* Ø³ÙØ¤Ø§Ù„ 10 (Ø¬ÙØ¯ÙÙŠØ¯) */
    {
      q: "Ù…ÙÙˆÙ’Ù‚ÙÙÙŒ 10: Ø³ÙÙ…ÙØ¹Ù’ØªÙ Ø®ÙØ¨ÙØ±Ù‹Ø§ Ø¹ÙÙ†Ù’ Ø²ÙÙ…ÙÙŠÙ„ÙØªÙÙƒÙØŒ Ù…Ø§Ø°ÙØ§ ØªÙÙÙ’Ø¹ÙÙ„ÙÙŠÙ†ÙØŸ",
      img: "q10.png.png",
      choices: ["Ø£ÙØªÙØ£ÙÙƒÙ‘ÙØ¯Ù Ù‚ÙØ¨Ù’Ù„Ù Ø£ÙÙ†Ù’ Ø£ÙÙ†Ù’Ù‚ÙÙ„Ù Ø§Ù„ÙƒÙÙ„Ø§Ù…Ù Ø£ÙÙˆÙ’ Ø£ÙØ³Ù’ÙƒÙØªÙ", "Ø£ÙÙ†Ù’Ø´ÙØ±ÙÙ‡Ù Ø¨ÙØ³ÙØ±Ù’Ø¹ÙØ©Ù", "Ø£ÙØ²ÙÙŠØ¯Ù Ø¹ÙÙ„ÙÙŠÙ’Ù‡Ù Ù…ÙÙ†Ù’ Ø¹ÙÙ†Ù’Ø¯ÙÙŠ"],
      correctText: "Ø£ÙØªÙØ£ÙÙƒÙ‘ÙØ¯Ù Ù‚ÙØ¨Ù’Ù„Ù Ø£ÙÙ†Ù’ Ø£ÙÙ†Ù’Ù‚ÙÙ„Ù Ø§Ù„ÙƒÙÙ„Ø§Ù…Ù Ø£ÙÙˆÙ’ Ø£ÙØ³Ù’ÙƒÙØªÙ"
    }
  ];

  let started = false;
  let idx = 0;
  let answers = Array(quiz.length).fill(null);
  let currentOptions = [];

  const card = document.getElementById("card");

  function score(){
    return answers.reduce((s, ok) => s + (ok === true ? 1 : 0), 0);
  }

  function renderIntro(){
    card.innerHTML = `
      <div class="center">
        <h1 class="title"> Ø§Ù„ØµÙ‘ÙØ¯Ù’Ù‚Ù ÙˆÙØªÙØ­ÙÙ…Ù‘ÙÙ„Ù Ø§Ù„Ù…ÙØ³Ù’Ø¤ÙÙˆÙ„ÙÙŠÙ‘ÙØ©Ù</h1>
        <p class="sub">Ø§ÙØ¶Ù’ØºÙØ·ÙÙŠ Â«Ø§ÙØ¨Ù’Ø¯ÙØ£Ù’Â»ØŒ Ø«ÙÙ…Ù‘Ù Ø£ÙØ¬ÙÙŠØ¨ÙÙŠ Ø¹ÙÙ†Ù Ø§Ù„Ø£ÙØ³Ù’Ø¦ÙÙ„ÙØ©Ù.</p>

        <div class="row">
          <button class="btn" id="startBtn">Ø§ÙØ¨Ù’Ø¯ÙØ£Ù’ âœ¨</button>
          <button class="btn secondary" data-theme-btn id="themeBtn">ğŸŒ™ <span>Ø§Ù„ÙˆÙØ¶Ù’Ø¹Ù Ø§Ù„Ø¯Ù‘ÙØ§ÙƒÙÙ†Ù</span></button>
        </div>
      </div>
    `;

    document.getElementById("startBtn").onclick = () => {
      started = true;
      idx = 0;
      answers = Array(quiz.length).fill(null);
      renderQuestion();
    };

    document.getElementById("themeBtn").onclick = toggleTheme;
    updateThemeButtonLabel();
  }

  function renderResult(){
    const s = score();
    card.innerHTML = `
      <div class="center">
        <p class="sub" style="margin-top:0">ØªÙÙ…Ù‘Ù Ø§Ù„Ø§ÙÙ†Ù’ØªÙÙ‡Ø§Ø¡Ù.</p>
        <p class="title" style="font-size:1.2rem; margin-top:8px;">Ø¯ÙØ±ÙØ¬ÙØªÙÙƒÙ: ${s} / ${quiz.length}</p>

        <div class="row">
          <button class="btn" id="restartBtn">Ø¥ÙØ¹Ø§Ø¯ÙØ©ÙŒ Ù…ÙÙ†Ù Ø§Ù„Ø¨ÙØ¯Ø§ÙŠÙØ©Ù ğŸ”</button>
          <button class="btn secondary" data-theme-btn id="themeBtn2">ğŸŒ™ <span>Ø§Ù„ÙˆÙØ¶Ù’Ø¹Ù Ø§Ù„Ø¯Ù‘ÙØ§ÙƒÙÙ†Ù</span></button>
        </div>
      </div>
    `;

    document.getElementById("restartBtn").onclick = () => {
      started = false;
      renderIntro();
    };

    document.getElementById("themeBtn2").onclick = toggleTheme;
    updateThemeButtonLabel();
  }

  function buildShuffledOptions(item){
    const opts = item.choices.map(t => ({ text: t, isCorrect: t === item.correctText }));
    return shuffle(opts);
  }

  function renderQuestion(){
    if(!started) return renderIntro();
    if(idx >= quiz.length) return renderResult();

    const item = quiz[idx];
    currentOptions = buildShuffledOptions(item);

    const imgUrl = absUrl(item.img);

    card.innerHTML = `
      <p class="q">${item.q}</p>

      <div class="qMedia" id="qMedia">
        <img src="${imgUrl}" alt="ØµÙÙˆØ±ÙØ©Ù Ø§Ù„Ø³Ù‘ÙØ¤Ø§Ù„Ù" loading="lazy"
          onerror="this.onerror=null; this.parentElement.innerHTML =
            '<div class=&quot;imgFallback&quot;>Ù„ÙÙ…Ù’ ØªÙØ¸Ù’Ù‡ÙØ±Ù Ø§Ù„ØµÙ‘ÙÙˆØ±ÙØ©Ù.<br><b>Ø§Ù„Ø§ÙØ³Ù’Ù…Ù:</b> ${item.img}<br><b>Ø§Ù„Ø±Ù‘ÙØ§Ø¨ÙØ·Ù:</b> ${imgUrl}</div>';">
      </div>

      <div class="choices" id="choices"></div>
    `;

    const choicesWrap = document.getElementById("choices");
    currentOptions.forEach((opt, i) => {
      const btn = document.createElement("button");
      btn.className = "choice";
      btn.innerHTML = `<span>${opt.text}</span><span class="mark"></span>`;
      btn.onclick = (e) => choose(i, e);
      choicesWrap.appendChild(btn);
    });
  }

  function choose(choiceIndex, event){
    const picked = currentOptions[choiceIndex];
    const ok = !!picked.isCorrect;
    answers[idx] = ok;

    const buttons = Array.from(document.querySelectorAll("button.choice"));
    buttons.forEach((b, i) => {
      b.disabled = true;
      const mark = b.querySelector(".mark");
      b.classList.remove("correct","wrong");

      if(currentOptions[i].isCorrect){
        b.classList.add("correct");
        if(mark) mark.textContent = "ğŸŒŸ";
      } else if(i === choiceIndex && !ok){
        b.classList.add("wrong");
        if(mark) mark.textContent = "âœ–";
      } else {
        if(mark) mark.textContent = "";
      }
    });

    if(ok){
      if(event && event.clientX && event.clientY) spawnStars(event.clientX, event.clientY);
      else {
        const rect = card.getBoundingClientRect();
        spawnStars(rect.left + rect.width/2, rect.top + 120);
      }
    }

    setTimeout(() => {
      idx++;
      renderQuestion();
    }, 650);
  }

  renderIntro();
</script>
</body>
</html>
